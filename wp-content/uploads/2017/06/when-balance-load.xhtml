<?xml version="1.0" encoding="UTF-8"?>
<html xml:lang="zh-Hans" xmlns="http://www.w3.org/1999/xhtml"><head><title>2 第 2 节 | load</title><link rel="stylesheet" href="table-shared.css" type="text/css"/><meta charset="UTF-8"/><meta name="EPB-UUID" content="EBA3548B-AAA6-4877-BAE4-6AF4A8ED99F0"/></head><body><div class="body" style="white-space:pre-wrap; line-break:strict;"><table class="s1" style="border-collapse:collapse;margin-left:0;width:100.0%;"><colgroup><col style="width:19.5%"/><col style="width:18.9%"/><col style="width:15.3%"/><col style="width:24.7%"/><col style="width:21.5%"/></colgroup><tr style="height:10.2%;"><td class="tc13"><p> </p></td><td class="tc13"><p> </p></td><td class="tc14"><p> </p></td><td class="tc15 p2 p7">scheduler_tick()</td><td class="tc16"><p> </p></td></tr><tr style="height:9.5%;"><td class="tc17"><p> </p></td><td class="tc17"><p> </p></td><td class="tc18"><p> </p></td><td class="tc19 p9">trigger_load_balance()</td><td class="tc20"><p> </p></td></tr><tr style="height:14.7%;"><td class="tc17"><p> </p></td><td class="tc17"><p> </p></td><td class="tc18"><p> </p></td><td class="tc21 p8 p10"><span class="c2">&lt;in softirq context&gt;<br/></span>run_rebalance_domains() </td><td class="tc22 p2 p7">pick_next_task →  pick_next_task_fair()</td></tr><tr style="height:14.7%;"><td class="tc23 p2 p7">_do_fork()<br/>  wake_up_new_task ()</td><td class="tc24 p2 p7">do_execveat_common()<br/>  sched_exec()</td><td class="tc25 p2 p7">try_to_wake_up()</td><td class="tc26"><p class="p5 p7" style="">nohz_idle_balance()</p><p class="p5 p7" style="">rebalance_domains()</p></td><td class="tc22 p2 p7">idle_balance()</td></tr><tr style="height:14.7%;"><td colspan="3" class="tc27 p11 p12">select_task_rq → select_task_rq_fair()</td><td colspan="2" class="tc28 p11 p12">load_balance()</td></tr><tr style="height:36.2%;"><td colspan="3" class="tc29"><p class="p14" style=""><span class="c3">struct</span> sched_group = \</p><p class="p14" style="">    find_idlest_group();</p><p class="p14" style="">...</p><p class="p14" style=""> </p><p class="p14" style=""><span class="c3">int</span> cpu = find_idlest_cpu();</p></td><td colspan="2" class="tc30"><p class="p14" style=""><span class="c3">struct</span> sched_group = \</p><p class="p14" style="">    find_busiest_group();</p><p class="p14" style="">...</p><p class="p14" style=""> </p><p class="p14" style=""><span class="c3">struct</span> rq *busiest = \</p><p class="p14" style="">    find_busiest_queue();</p></td></tr></table><p class="p15" style=""> </p></div></body></html>
