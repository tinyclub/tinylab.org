<?xml version="1.0" encoding="UTF-8"?>
<html xml:lang="zh-Hans" xmlns="http://www.w3.org/1999/xhtml"><head><title>1 第 1 节 | load</title><link rel="stylesheet" href="table-shared.css" type="text/css"/><meta charset="UTF-8"/><meta name="EPB-UUID" content="EBA3548B-AAA6-4877-BAE4-6AF4A8ED99F0"/></head><body><div class="body" style="white-space:pre-wrap; line-break:strict;"><table class="s1" style="border-collapse:collapse;margin-left:0;width:100.0%;"><colgroup><col style="width:23.8%"/><col style="width:41.7%"/><col style="width:34.5%"/></colgroup><tr style="height:14.7%;"><td class="tc1 p2 p3">浮点形式</td><td class="tc2 p2 p3">定点模拟形式 </td><td class="tc3 p2 p3"> 备注</td></tr><tr style="height:14.2%;"><td class="tc4 p2">1.0</td><td class="tc5 p2">FIXED_1</td><td class="tc6 p2 p4">#define FIXED_1 (1 &lt;&lt; 11)</td></tr><tr style="height:14.2%;"><td class="tc7 p2">e^-5/300 * 1.0 = 0.92</td><td class="tc8 p2">e^-5/300 * FIXED_1 = 1884</td><td class="tc9 p2 p4">#define EXP_1 1884</td></tr><tr style="height:14.2%;"><td class="tc4 p2">avenrun_f[0] * 1.0</td><td colspan="2" class="tc5 p2">avenrun[0] = avenrun_f[0] * FIXED_1</td></tr><tr style="height:14.2%;"><td class="tc7 p2">avenrun_f[0] * 0.92</td><td colspan="2" class="tc10"><p class="p5" style="">avenrun_f[0] * 0.92 * FIXED_1<br/>= avenrun_f[0] * FIXED_1 * 0.92 * FIXED_1 / FIXED_1 =</p><p class="p5" style="">= <span class="c1">avenrun[0] * EXP_1 / FIXED_1</span></p></td></tr><tr style="height:14.2%;"><td class="tc4 p2">calc_load_tasks * 1.0</td><td class="tc5 p2">calc_load_tasks * FIXED_1</td><td class="tc6 p2">active = calc_load_tasks * FIXED_1</td></tr><tr style="height:14.2%;"><td class="tc11 p2">avenrun[0] * 0.92 + calc_load_tasks * 0.08</td><td colspan="2" class="tc12 p2">avenrun[0] * EXP_1 / FIXED_1 +<br/>active * (FIXED_1 - EXP_1) / FIXED_1<br/>= <span class="c1">( avenrun[0] * EXP_1 + active * (FIXED_1 - EXP_1) ) / FIXED_1</span></td></tr></table><p class="p1" style=""> </p></div></body></html>
