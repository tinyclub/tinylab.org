---
layout: weekly
author: '呀呀呀'
title: 'RISC-V Linux 内核及周边技术动态第 76 期'
draft: false
group: 'news'
album: 'RISC-V Linux'
license: 'cc-by-nc-nd-4.0'
permalink: /rvlwn-76/
description: 'RISC-V Linux 内核及周边技术动态第 76 期'
category:
  - 开源项目
  - Risc-V
tags:
  - Linux
  - RISC-V
---

> 时间：20240201<br/>
> 编辑：晓怡<br/>
> 仓库：[RISC-V Linux 内核技术调研活动](https://gitee.com/tinylab/riscv-linux)<br/>
> 赞助：PLCT Lab, ISCAS

## 内核动态

### RISC-V 架构支持

**[v3: riscv: dts: starfive: add Milkv Mars board device tree](http://lore.kernel.org/linux-riscv/20240131132600.4067-1-jszhang@kernel.org/)**

> patch1 adds 'cpus' label
> patch2 adds "milkv,mars" board dt-binding
> patch3
>  patch4 adopt Krzysztof's suggestions to DT node names
> patch5 introduces a board common dtsi for visionfive2 and mars
> patch3 adds the mars board dts file describing the currently supported
> features:
> Namely PMIC, UART, I2C, GPIO, SD card, QSPI Flash, eMMC and Ethernet.
>

**[v2: irqchip/sifive-plic: enable interrupt if needed before EOI](http://lore.kernel.org/linux-riscv/20240131081933.144512-1-namcao@linutronix.de/)**

> RISC-V PLIC cannot "end-of-interrupt" (EOI) disabled interrupts, as
> explained in the description of Interrupt Completion in the PLIC spec:
>
> "The PLIC signals it has completed executing an interrupt handler by
> writing the interrupt ID it received from the claim to the claim/complete
> register. The PLIC does not check whether the completion ID is the same
> as the last claim ID for that target. If the completion ID does not match
> an interrupt source that *is currently enabled* for the target, the
> completion is silently ignored."
>

**[v3: riscv: mm: Extend mappable memory up to hint address](http://lore.kernel.org/linux-riscv/20240130-use_mmap_hint_address-v3-0-8a655cfa8bcb@rivosinc.com/)**

> On riscv, mmap currently returns an address from the largest address
> space that can fit entirely inside of the hint address. This makes it
> such that the hint address is almost never returned. This patch raises
> the mappable area up to and including the hint address. This allows mmap
> to often return the hint address, which allows a performance improvement
> over searching for a valid address as well as making the behavior more
> similar to other architectures.
>

**[v2: bpf-next: Mixing bpf2bpf and tailcalls for RV64](http://lore.kernel.org/linux-riscv/20240130040958.230673-1-pulehui@huaweicloud.com/)**

> In the current RV64 JIT, if we just don't initialize the TCC in subprog,
> the TCC can be propagated from the parent process to the subprocess, but
> the TCC of the parent process cannot be restored when the subprocess
> exits. Since the RV64 TCC is initialized before saving the callee saved
> registers into the stack, we cannot use the callee saved register to
> pass the TCC, otherwise the original value of the callee saved register
> will be destroyed.
>

**[v3: riscv: sophgo: add reset support for SG2042](http://lore.kernel.org/linux-riscv/cover.1706577450.git.unicorn_wang@outlook.com/)**

> This series adds reset controller support for Sophgo SG2042 using
> reset-simple driver.
>

**[v1: Add IAX45 support for RZ/Five SoC](http://lore.kernel.org/linux-riscv/20240129151618.90922-1-prabhakar.mahadev-lad.rj@bp.renesas.com/)**

> The IAX45 block on RZ/Five SoC is almost identical to the IRQC bock found
> on the RZ/G2L family of SoCs.
>
> IAX45 performs various interrupt controls including synchronization for the
> external interrupts of NMI, IRQ, and GPIOINT and the interrupts of the
> built-in peripheral interrupts output by each module. And it notifies the
> interrupt to the PLIC.
>

**[v3: mm/memory: optimize fork() with PTE-mapped THP](http://lore.kernel.org/linux-riscv/20240129124649.189745-1-david@redhat.com/)**

> Now that the rmap overhaul[1] is upstream that provides a clean interface
> for rmap batching, let's implement PTE batching during fork when processing
> PTE-mapped THPs.
>
> This series is partially based on Ryan's previous work[2] to implement
> cont-pte support on arm64, but its a complete rewrite based on [1] to
> optimize all architectures independent of any such PTE bits, and to
> use the new rmap batching functions that simplify the code and prepare
> for further rmap accounting changes.
>

**[v1: CAST Controller Area Network driver support](http://lore.kernel.org/linux-riscv/20240129031239.17037-1-william.qiu@starfivetech.com/)**

> This patchset adds initial rudimentary support for the CAST Controller
> Area Network driver. And we registered cast in kernel as well. This
> driver will be applied in JH7110 SoC first, so add relevant
> compatibility support.
>

**[v1: riscv: Implement pte_accessible()](http://lore.kernel.org/linux-riscv/20240128115953.25085-1-alexghiti@rivosinc.com/)**

> Like other architectures, a pte is accessible if it is present or if
> there is a pending tlb flush and the pte is protnone (which could be the
> case when a pte is downgraded to protnone before a flush tlb is
> executed).
>

**[v1: riscv: optimize memcpy/memmove/memset](http://lore.kernel.org/linux-riscv/20240128111013.2450-1-jszhang@kernel.org/)**

> Compared with Matteo's original series, Jisheng made below changes:
> 1. adopt Emil's change to fix boot failure when build with clang
> 2. add corresponding changes to purgatory
> 3. always build optimized string.c rather than only build when optimize
> for performance
> 4. implement unroll support when src & dst are both aligned to keep
> the same performance as assembly version.
>

**[v12: Linux RISC-V AIA Support](http://lore.kernel.org/linux-riscv/20240127161753.114685-1-apatel@ventanamicro.com/)**

> The RISC-V AIA specification is ratified as-per the RISC-V international
> process. The latest ratified AIA specifcation can be found at:
> https://github.com/riscv/riscv-aia/releases/download/1.0/riscv-interrupts-1.0.pdf
>

**[v8: Change PWM-controlled LED pin active mode and algorithm](http://lore.kernel.org/linux-riscv/20240126074045.20159-1-nylon.chen@sifive.com/)**

> According to the circuit diagram of User LEDs - RGB described in the
> manual hifive-unleashed-a00.pdf[0] and hifive-unmatched-schematics-v3.pdf[1].
>

**[v5: pwm: Improve lifetime tracking for pwm_chips](http://lore.kernel.org/linux-riscv/cover.1706182805.git.u.kleine-koenig@pengutronix.de/)**

> this is v5 of this series. The relevant changes since v4
> (https://lore.kernel.org/linux-pwm/cover.1701860672.git.u.kleine-koenig@pengutronix.de):
>
>  - New first patch to reshuffle functions in core.c. This is a
>    preparation for the later changes which brings functions in a better
>    order to not need declarations.
>  - Fix kernel docs in several drivers
>  - Added a few ack and review tags received for v4
>  - non-trivially rebased to current pwm/for-next
>

**[v2: riscv: Optimize crc32 with Zbc extension](http://lore.kernel.org/linux-riscv/20240126014439.1389033-1-xiao.w.wang@intel.com/)**

> As suggested by the B-ext spec, the Zbc (carry-less multiplication)
> instructions can be used to accelerate CRC calculations. Currently, the
> crc32 is the most widely used crc function inside kernel, so this patch
> focuses on the optimization of just the crc32 APIs.
>

**[v1: Bump the minimum supported version of LLVM to 13.0.1](http://lore.kernel.org/linux-riscv/20240125-bump-min-llvm-ver-to-13-0-1-v1-0-f5ff9bda41c5@kernel.org/)**

> This series bumps the minimum supported version of LLVM for building the
> kernel to 13.0.1. The first patch does the bump and all subsequent
> patches clean up all the various workarounds and checks for earlier
> versions.
>

### 进程调度

**[v1: sched/Documentation: Add RT_RUNTIME_SHARE documentation](http://lore.kernel.org/lkml/20240131123238.2332064-1-zhangqiao22@huawei.com/)**

> RT_RUNTIME_SHARE is an important strategy for rt bandwidth, and
> we should document this sched feature.
>

**[v2: sched/fair: Sanity check 'best' in pick_eevdf()](http://lore.kernel.org/lkml/20240131120340.76461-1-tiwei.btw@antgroup.com/)**

> Before commit 2227a957e1d5 ("sched/eevdf: Sort the rbtree by virtual
> deadline"), there was a sanity check to catch unexpected failures in the
> EEVDF scheduling, which was helpful in identifying problems. It would
> be better to restore its previous capability.
>

**[v1: sched/eevdf: Prevent vlag from exceeding the limit value](http://lore.kernel.org/lkml/20240130080643.1828-1-xuewen.yan@unisoc.com/)**

> There are some scenarios here that will cause vlag to
> exceed eevdf's limit.
>

**[v1: resend: sched: Can we rename 'core scheduling' to 'smt scheduling'?](http://lore.kernel.org/lkml/Zbd%2FqYQCQCELe+TF@fedora/)**

> On Tue, Dec 19, 2023 at 03:07:43PM +0800, Wang Jinchao wrote:
> > The term 'core' in 'kernel/sched/' implies a relation to the kernel of sched,
> > and at the same time, 'core' is used in 'core scheduling' to represent a CPU core.
> > Both meanings coexist in the 'core.c' file and appear numerous times.
> >

**[v1: Revert "nl80211/cfg80211: Specify band specific min RSSI thresholds with sched scan"](http://lore.kernel.org/lkml/20240125-for-next-v1-1-fd79e01c6c09@quicinc.com/)**

> During the review of a new patch [1] it was observed that the
> functionality being modified was not actually being used by any
> in-tree driver. Further research determined that the functionality was
> originally introduced to support a new Android interface, but that
> interface was subsequently abandoned. Since the functionality has
> apparently never been used, remove it. However, to mantain the
> sanctity of the UABI, keep the nl80211.h assignments, but clearly mark
> them as obsolete.
>

### 内存管理

**[v1: mm/cma: Don't treat bad input arguments for cma_alloc() as its failure](http://lore.kernel.org/linux-mm/20240201023714.3871061-1-anshuman.khandual@arm.com/)**

> Invalid cma_alloc() input scenarios - including excess allocation request
> should neither be counted as CMA_ALLOC_FAIL nor 'cma->nr_pages_failed' be
> updated when applicable with CONFIG_CMA_SYSFS. This also drops 'out' jump
> label which has become redundant.
>

**[v2: mm: swap: async free swap slot cache entries](http://lore.kernel.org/linux-mm/20240131-async-free-v2-1-525f03e07184@kernel.org/)**

> We discovered that 1% swap page fault is 100us+ while 50% of
> the swap fault is under 20us.
>
> Further investigation show that a large portion of the time
> spent in the free_swap_slots() function for the long tail case.
>

**[v2: kasan: add atomic tests](http://lore.kernel.org/linux-mm/20240131210041.686657-1-paul.heidekrueger@tum.de/)**

> I'm still uncelar on which kinds of atomic accesses we should be testing
> though. The patch below only covers a subset, and I don't know if it
> would be feasible to just manually add all atomics of interest. Which
> ones would those be exactly? As Andrey pointed out on Bugzilla, if we
> were to include all of the atomic64_* ones, that would make a lot of
> function calls.
>

**[v1: mm/vmscan: Change the type of file from int to bool](http://lore.kernel.org/linux-mm/20240131103802.122920-1-gehao@kylinos.cn/)**

> Change the type of file from int to bool because is_file_lru return bool
>

**[v1: mm/slab: Add slabreclaim flag to slabinfo](http://lore.kernel.org/linux-mm/20240131094442.28834-1-fangzheng.zhang@unisoc.com/)**

> In order to enhance slab debugging, we add slabreclaim flag to
> slabinfo. Slab type is also an important analysis point in slabinfo
> for per slab, when various problems such as memory leaks or memory
> statistics occur.
>

**[v2: mm/mmap: use SZ_{8K, 128K} helper macro](http://lore.kernel.org/linux-mm/20240131031913.2058597-1-yajun.deng@linux.dev/)**

> Use SZ_{8K, 128K} helper macro instead of the number in init_user_reserve
> and reserve_mem_notifier. This is more readable.
>

**[v4: mm/mempolicy: weighted interleave mempolicy and sysfs extension](http://lore.kernel.org/linux-mm/20240130182046.74278-1-gregory.price@memverge.com/)**

> This is *hopefully* the final major update to this line.
> Full version nodes at the end of initial cover letter chunk.
> (v4: style, task->il_weight, uninitialized values, docs)
>

**[v1: mempolicy: add home_node info to mpol_to_str()](http://lore.kernel.org/linux-mm/20240130104839.10270-1-luochunsheng@ustc.edu/)**

> There is currently no userspace interface for obtaining home_node,
> so we have added home_node to the mpol_to_str(). This allows us to
> obtain the home_node from the /proc/pid/numa_map.
>

**[v1: mm/vmscan: Change the calculation of the number of can reclaim anon pages in zone_reclaimable_pages](http://lore.kernel.org/linux-mm/20240130091755.21363-1-gehao@kylinos.cn/)**

> The spaces of swap devices that can be set by the user
> are unpredictable values, so we take the minimum value between
> the anonymous page in the specified zone and the spaces of swap devices.
>

**[v1: mm/damon: make DAMON debugfs interface deprecation unignorable](http://lore.kernel.org/linux-mm/20240130013549.89538-1-sj@kernel.org/)**

> DAMON debugfs interface is deprecated in February 2023, by commit
> interface deprecation notice").  Make the fact unable to be easily
> ignored by removing an example usage from the document (patch 1),
> renaming the config (patch 2), adding a deprecation notice file to the
> debugfs directory (patches 3-5), and renaming the debugfs file that
> essnetial to be used for real use of DAMON (patches 6-9).
>

**[v2: per-vma locks in userfaultfd](http://lore.kernel.org/linux-mm/20240129193512.123145-1-lokeshgidra@google.com/)**

> Performing userfaultfd operations (like copy/move etc.) in critical
> section of mmap_lock (read-mode) causes significant contention on the
> lock when operations requiring the lock in write-mode are taking place
> concurrently. We can use per-vma locks instead to significantly reduce
> the contention issue.
>

**[v1: shmem: Properly report quota mount options](http://lore.kernel.org/linux-mm/20240129120131.21145-1-jack@suse.cz/)**

> Report quota options among the set of mount options. This allows proper
> user visibility into whether quotas are enabled or not.
>

**[v1: selftests/mm: run_vmtests.sh: add hugetlb test category](http://lore.kernel.org/linux-mm/20240129115246.1234253-1-leitao@debian.org/)**

> The usage of run_vmtests.sh does not include hugetlb, which is a valid
> test category.
>

**[v1: rfc: mm: migrate: support poison recover from migrate folio](http://lore.kernel.org/linux-mm/20240129070934.3717659-1-wangkefeng.wang@huawei.com/)**

> The folio migration is widely used in kernel, memory compaction, memory
> hotplug, soft offline page, numa balance, memory demote/promotion, etc,
> but once access a poisoned source folio when migrating, the kerenl will
> panic.
>

### 文件系统

**[v3: filelock: split file leases out of struct file_lock](http://lore.kernel.org/linux-fsdevel/20240131-flsplit-v3-0-c6129007ee8d@kernel.org/)**

> I'm not sure this is much prettier than the last, but contracting
> "fl_core" to "c", as Neil suggested is a bit easier on the eyes.
>

**[v2: test_xarray: advanced API multi-index tests](http://lore.kernel.org/linux-fsdevel/20240131225125.1370598-1-mcgrof@kernel.org/)**

> This is a respin of the test_xarray multi-index tests [0] which use and
> demonstrate the advanced API which is used by the page cache. This should
> let folks more easily follow how we use multi-index to support for example
> a min order later in the page cache. It also lets us grow the selftests to
> mimic more of what we do in the page cache.
>

**[v1: Restore data lifetime support](http://lore.kernel.org/linux-fsdevel/20240131205237.3540210-1-bvanassche@acm.org/)**

> UFS devices are widely used in mobile applications, e.g. in smartphones.
> UFS vendors need data lifetime information to achieve good performance.
> Providing data lifetime information to UFS devices can result in up to 40%
> lower write amplification. Hence this patch series that restores the
> bi_write_hint member in struct bio. After this patch series has been merged,
> patches that implement data lifetime support in the SCSI disk (sd) driver
> will be sent to the Linux kernel SCSI maintainer.
>

**[v2: eventfs: Rewrite to simplify the code (aka: crapectomy)](http://lore.kernel.org/linux-fsdevel/20240131184918.945345370@goodmis.org/)**

> Linus took the time to massively clean up the eventfs logic.
> I took his code and made tweaks to represent some of the feedback
> from Al Viro and also fix issues that came up in testing.
>

**[v1: jbd2: user-memory-access in jbd2__journal_start](http://lore.kernel.org/linux-fsdevel/tencent_7F29369E974036964A3E742F778567CC3C09@qq.com/)**

> Before reusing the handle, it is necessary to confirm that the transaction is
> ready.
>

**[v1: fs: Use KMEM_CACHE instead of kmem_cache_create](http://lore.kernel.org/linux-fsdevel/20240131070941.135178-1-chentao@kylinos.cn/)**

> commit 0a31bd5f2bbb ("KMEM_CACHE(): simplify slab cache creation")
> introduces a new macro.
> Use the new KMEM_CACHE() macro instead of direct kmem_cache_create
> to simplify the creation of SLAB caches.
>

**[v1: exfat: ratelimit error msg in exfat_file_mmap()](http://lore.kernel.org/linux-fsdevel/PUZPR04MB63169F97595D70047AF50E3B817D2@PUZPR04MB6316.apcprd04.prod.outlook.com/)**

> Ratelimit the error message of zeroing out data between the valid
> size and the file size in exfat_file_mmap() to not flood dmesg.
>

**[v5: Set casefold/fscrypt dentry operations through sb->s_d_op](http://lore.kernel.org/linux-fsdevel/20240129204330.32346-1-krisman@suse.de/)**

> Sorry for the quick respin. The only difference from v4 is that we
> change the way we check for relevant dentries during a d_move, as
> suggested by Eric.
>

**[v1: select: Avoid wrap-around instrumentation in do_sys_poll()](http://lore.kernel.org/linux-fsdevel/20240129184014.work.593-kees@kernel.org/)**

> The mix of int, unsigned int, and unsigned long used by struct
> poll_list::len, todo, len, and j meant that the signed overflow
> sanitizer got worried it needed to instrument several places where
> arithmetic happens between these variables.
>

**[v8: io_uring: add support for ftruncate](http://lore.kernel.org/linux-fsdevel/20240129151507.14885-1-tony.solomonik@gmail.com/)**

> This patch adds support for doing truncate through io_uring, eliminating
> the need for applications to roll their own thread pool or offload
> mechanism to be able to do non-blocking truncates.
>

**[v1: 9p: Further netfslib-related changes](http://lore.kernel.org/linux-fsdevel/20240129115512.1281624-1-dhowells@redhat.com/)**

> Here are some netfslib-related changes we might want to consider applying
> to 9p:
>
>  (1) Enable large folio support for 9p.  This is handled entirely by
>      netfslib and is already supported in afs.  I wonder if we should limit
>      the maximum folio size to 1MiB to match the maximum I/O size in the 9p
>      protocol.
>

### 网络设备

**[v3: treewide: Use clocksource ID for get_device_system_crosststamp()](http://lore.kernel.org/netdev/20240201010453.2212371-1-peter.hilber@opensynergy.com/)**

> This patch series changes struct system_counterval_t to identify the
> clocksource through enum clocksource_ids, rather than through struct
> clocksource *. The net effect of the patch series is that
> get_device_system_crosststamp() callers can supply clocksource ids instead
> of clocksource pointers. The pointers can be problematic to get hold of.
>

**[v1: Intel On Demand: Add netlink interface for SPDM attestation](http://lore.kernel.org/netdev/20240201010747.471141-1-david.e.box@linux.intel.com/)**

> This patch series primarily adds support for a new netlink ABI in the
> Intel On Demand driver for performing attestation of the hardware state.
>

**[[PATCH RESUBMIT net-next] r8169: simplify EEE handling](http://lore.kernel.org/netdev/27c336a8-ea47-483d-815b-02c45ae41da2@gmail.com/)**

> We don't have to store the EEE modes to be advertised in the driver,
> phylib does this for us and stores it in phydev->advertising_eee.
> phylib also takes care of properly handling the EEE advertisement.
>

**[v1: net-next: net: phy: realtek: add support for RTL8126A-integrated 5Gbps PHY](http://lore.kernel.org/netdev/0c8e67ea-6505-43d1-bd51-94e7ecd6e222@gmail.com/)**

> A user reported that first consumer mainboards show up with a RTL8126A
> 5Gbps MAC/PHY. This adds support for the integrated PHY, which is also
> available stand-alone. From a PHY driver perspective it's treated the
> same as the 2.5Gbps PHY's, we just have to support the new PHY ID.
>

**[v1: UIO_MEM_DMA_COHERENT for cnic/bnx2/bnx2x](http://lore.kernel.org/netdev/20240131191732.3247996-1-cleech@redhat.com/)**

> During bnx2i iSCSI testing we ran into page refcounting issues in the
> uio mmaps exported from cnic to the iscsiuio process, and bisected back
> to the removal of the __GFP_COMP flag from dma_alloc_coherent calls.
>

**[v1: net-next: Improve GbEth performance on Renesas RZ/G2L and related SoCs](http://lore.kernel.org/netdev/20240131170523.30048-1-paul.barker.ct@bp.renesas.com/)**

> This series aims to improve peformance of the GbEth IP in the Renesas
> RZ/G2L SoC family and the RZ/G3S SoC, which use the ravb driver. Along
> the way, we do some refactoring and ensure that napi_complete_done() is
> used in accordance with the NAPI documentation.
>

**[v1: net-next: net/sched: report errors with extack](http://lore.kernel.org/netdev/20240131170019.106122-1-stephen@networkplumber.org/)**

> While working a BPF action, found that the error handling was
> limited. The support of external ack was only added to some
> but not all actions.
>

**[v5: iwl-next: ixgbe: Convert ret val type from s32 to int](http://lore.kernel.org/netdev/20240131110419.29161-1-jedrzej.jagielski@intel.com/)**

> Currently big amount of the functions returning standard error codes
> are of type s32. Convert them to regular ints as typdefs here are not
> necessary to return standard error codes.
>

**[v1: Introduce uts_release](http://lore.kernel.org/netdev/20240131104851.2311358-1-john.g.garry@oracle.com/)**

> Files like drivers/base/firmware_loader/main.c needs to be recompiled as
> it includes generated/utsrelease.h for UTS_RELEASE macro, and utsrelease.h
> is regenerated when the head commit changes.
>

**[v2: net: dqs: NIC stall detector](http://lore.kernel.org/netdev/20240131102150.728960-1-leitao@debian.org/)**

> This is a patch that was sent by Jakub Kicinski six month ago, and I
> am reviving it.
>

**[v1: net-next: net: dccp: Simplify the allocation of slab caches in dccp_ackvec_init](http://lore.kernel.org/netdev/20240131090851.144229-1-chentao@kylinos.cn/)**

> Use the new KMEM_CACHE() macro instead of direct kmem_cache_create
> to simplify the creation of SLAB caches.
>

**[v1: net-next: nfp: series of minor driver improvements](http://lore.kernel.org/netdev/20240131085426.45374-1-louis.peens@corigine.com/)**

> This short series bundles two unrelated but small updates to the nfp
> driver.
>

**[v1: net-next: sctp: Simplify the allocation of slab caches](http://lore.kernel.org/netdev/20240131084549.142595-1-chentao@kylinos.cn/)**

> commit 0a31bd5f2bbb ("KMEM_CACHE(): simplify slab cache creation")
> introduces a new macro.
> Use the new KMEM_CACHE() macro instead of direct kmem_cache_create
> to simplify the creation of SLAB caches.
>

**[v5: net-next: net: ravb: Prepare for suspend to RAM and runtime PM support (part 1)](http://lore.kernel.org/netdev/20240131084133.1671440-1-claudiu.beznea.uj@bp.renesas.com/)**

> This series prepares ravb driver for runtime PM support and adjust the
> already existing suspend to RAM code to work for RZ/G3S (R9A08G045) SoC.
>

**[v2: Dynamically allocate BPIDs for LBK](http://lore.kernel.org/netdev/20240131075441.17227-1-gakula@marvell.com/)**

> In current driver 64 BPIDs are reserved for LBK interfaces.
> These bpids are 1-to-1 mapped to LBK interface channel numbers.
> In some usecases one LBK interface required more than one bpids
> and in some case they may not require at all. These usescas
> can't be address with the current implementation as it always
> reserves only one bpid per LBK channel.
>

**[v1: ice: Add get/set hw address for VF representor ports](http://lore.kernel.org/netdev/20240131080847.30614-1-ksundara@redhat.com/)**

> Changing the mac address of the VF representor ports are not
> available via devlink. Add the function handlers to set and get
> the HW address for the VF representor ports.
>

**[v1: net-next: selftests: openvswitch: Test ICMP related matches work with SNAT](http://lore.kernel.org/netdev/20240131040822.835867-1-brad@faucet.nz/)**

> Add a test case for regression in openvswitch nat that was fixed by
> commit e6345d2824a3 ("netfilter: nf_nat: fix action not being set for
> all ct states").
>

**[v3: net: octeontx2-af: Initialize maps.](http://lore.kernel.org/netdev/20240131024118.254758-1-rkannoth@marvell.com/)**

> kmalloc_array() without __GFP_ZERO flag does not initialize
> memory to zero. This causes issues. Use __GFP_ZERO flag for maps and
> bitmap_zalloc() for bimaps.
>

**[v4: net: connector: cn_netlink_has_listeners replaces proc_event_num_listeners](http://lore.kernel.org/netdev/20240131014459.411158-1-wangkeqi_chris@163.com/)**

> It is inaccurate to judge whether proc_event_num_listeners is
> cleared by cn_netlink_send_mult returning -ESRCH.
> In the case of stress-ng netlink-proc, -ESRCH will always be returned,
> because netlink_broadcast_filtered will return -ESRCH,
> which may cause stress-ng netlink-proc performance degradation.
>

**[v5: net-next: net: dsa: realtek: variants to drivers, interfaces to a common module](http://lore.kernel.org/netdev/20240130-realtek_reverse-v5-0-ecafd9283a07@gmail.com/)**

> The current driver consists of two interface modules (SMI and MDIO) and
> two family/variant modules (RTL8365MB and RTL8366RB). The SMI and MDIO
> modules serve as the platform and MDIO drivers, respectively, calling
> functions from the variant modules. In this setup, one interface module
> can be loaded independently of the other, but both variants must be
> loaded (if not disabled at build time) for any type of interface. This
> approach doesn't scale well, especially with the addition of more switch
> variants (e.g., RTL8366B), leading to loaded but unused modules.
> Additionally, this also seems upside down, as the specific driver code
> normally depends on the more generic functions and not the other way
> around.
>

**[v8: net-next: netdevsim: link and forward skbs between ports](http://lore.kernel.org/netdev/20240130214620.3722189-1-dw@davidwei.uk/)**

> This patchset adds the ability to link two netdevsim ports together and
> forward skbs between them, similar to veth. The goal is to use netdevsim
> for testing features e.g. zero copy Rx using io_uring.
>

**[v2: net-next: net: switchdev: Tracepoints](http://lore.kernel.org/netdev/20240130201937.1897766-1-tobias@waldekranz.com/)**

> This series starts off (1-2/5) by creating stringifiers for common
> switchdev objects. This will primarily be used by the tracepoints for
> decoding switchdev notifications, but drivers could also make use of
> them to provide richer debug/error messages.
>

**[v1: net-next: net: ipa: simplify TX power handling](http://lore.kernel.org/netdev/20240130192305.250915-1-elder@linaro.org/)**

> In order to deliver a packet to the IPA hardware, we must ensure
> it is powered.  We request power by calling pm_runtime_get(), and
> its return value tells us the power state.  We can't block in
> ipa_start_xmit(), so if power isn't enabled we prevent further
> transmit attempts by calling netif_stop_queue().  Power will
> eventually become enabled, at which point we call netif_wake_queue()
> to allow the transmit to be retried.  When it does, the power should
> be enabled, so the packet delivery can proceed.
>

**[v1: wifi: ath10k: support board-specific firmware overrides](http://lore.kernel.org/netdev/20240130-wcn3990-firmware-path-v1-0-826b93202964@linaro.org/)**

> On WCN3990 platforms actual firmware, wlanmdsp.mbn, is sideloaded to the
> modem DSP via the TQFTPserv. These MBN files are signed by the device
> vendor, can only be used with the particular SoC or device.
>

**[v1: net: ethernet: mtk_eth_soc: ppe: add support for multiple PPEs](http://lore.kernel.org/netdev/20240130160854.5221-1-eladwf@gmail.com/)**

> Add the missing pieces to allow multiple PPEs units, one for each GMAC.
> mtk_gdm_config has been modified to work on targted mac ID,
> the inner loop moved outside of the function to allow unrelated
> operations like setting the MAC's PPE index.
>

**[v1: net-next: dpll: move xa_erase() call in to match dpll_pin_alloc() error path order](http://lore.kernel.org/netdev/20240130155814.268622-1-jiri@resnulli.us/)**

> This is cosmetics. Move the call of xa_erase() in dpll_pin_put()
> so the order of cleanup calls matches the error path of
> dpll_pin_alloc().
>

### 安全增强

**[v1: Tegra30: add support for LG tegra based phones](http://lore.kernel.org/linux-hardening/20240131105153.8070-1-clamor95@gmail.com/)**

> Bring up Tegra 3 based LG phones Optimus 4X HD and Optimus Vu based
> on LG X3 board.
>

**[v1: string: Allow 2-argument strscpy()](http://lore.kernel.org/linux-hardening/20240131055340.work.279-kees@kernel.org/)**

> Using sizeof(dst) for the "size" argument in strscpy() is the
> overwhelmingly common case. Instead of requiring this everywhere, allow a
> 2-argument version to be used that will use the sizeof() internally. There
> are other functions in the kernel with optional arguments[1], so this
> isn't unprecedented, and improves readability. Update and relocate the
> kern-doc for strscpy() too.
>

**[v1: LoongArch: vDSO: Disable UBSAN instrumentation](http://lore.kernel.org/linux-hardening/20240130233140.work.887-kees@kernel.org/)**

> The vDSO executes in userspace, so the kernel's UBSAN should not
> instrument it.
>

**[v1: iov_iter: Avoid wrap-around instrumentation in copy_compat_iovec_from_user()](http://lore.kernel.org/linux-hardening/20240129183729.work.991-kees@kernel.org/)**

> The loop counter "i" in copy_compat_iovec_from_user() is an int, but
> because the nr_segs argument is unsigned long, the signed overflow
> sanitizer got worried "i" could wrap around. Instead of making "i" an
> unsigned long (which may enlarge the type size), switch both nr_segs
> and i to u32. There is no truncation with nr_segs since it is never
> larger than UIO_MAXIOV anyway. This keeps sanitizer instrumentation[1]
> out of a UACCESS path:
>

**[v1: overflow: Introduce wrapping helpers](http://lore.kernel.org/linux-hardening/20240129182845.work.694-kees@kernel.org/)**

> In preparation for gaining instrumentation for signed[1], unsigned[2], and
> pointer[3] wrap-around, expand the overflow header to include wrap-around
> helpers that can be used to annotate arithmetic where wrapped calculations
> are expected (e.g. atomics).
>

**[v1: ubsan: Introduce wrap-around sanitizers](http://lore.kernel.org/linux-hardening/20240129175033.work.813-kees@kernel.org/)**

> Lay the ground work for gaining instrumentation for signed[1],
> unsigned[2], and pointer[3] wrap-around by making all 3 sanitizers
> available for testing. Additionally gets x86_64 bootable under the
> unsigned sanitizer for the first time.
>

**[v1: dmaengine: pl08x: Use kcalloc() instead of kzalloc()](http://lore.kernel.org/linux-hardening/20240128115236.4791-1-erick.archer@gmx.com/)**

> This is an effort to get rid of all multiplications from allocation
> functions in order to prevent integer overflows [1].
>

**[v2: bus: mhi: ep: Use kcalloc() instead of kzalloc()](http://lore.kernel.org/linux-hardening/20240128112722.4334-1-erick.archer@gmx.com/)**

> This is an effort to get rid of all multiplications from allocation
> functions in order to prevent integer overflows [1].
>

**[v1: wifi: brcmfmac: Adjust n_channels usage for __counted_by](http://lore.kernel.org/linux-hardening/20240126223150.work.548-kees@kernel.org/)**

> After commit e3eac9f32ec0 ("wifi: cfg80211: Annotate struct
> cfg80211_scan_request with __counted_by"), the compiler may enforce
> dynamic array indexing of req->channels to stay below n_channels. As a
> result, n_channels needs to be increased _before_ accessing the newly
> added array index. Increment it first, then use "i" for the prior index.
> Solves this warning in the coming GCC that has __counted_by support:
>

**[v5: Add device tree for IBM system1 BMC](http://lore.kernel.org/linux-hardening/20240125212154.4028640-1-ninad@linux.ibm.com/)**

> This patchset adds device tree for IBM system1 bmc board.
>
> Change log:
>

### 异步 IO

**[v1: io_uring: Simplify the allocation of slab caches](http://lore.kernel.org/io-uring/20240130100247.81460-1-chentao@kylinos.cn/)**

> commit 0a31bd5f2bbb ("KMEM_CACHE(): simplify slab cache creation")
> introduces a new macro.
> Use the new KMEM_CACHE() macro instead of direct kmem_cache_create
> to simplify the creation of SLAB caches.
>

**[v1: io_uring/rw: ensure poll based multishot read retries appropriately](http://lore.kernel.org/io-uring/1ec748fe-040a-42d3-b4fc-336672953bac@kernel.dk/)**

> io_read_mshot() always relies on poll triggering retries, and this works
> fine as long as we do a retry per size of the buffer being read. The
> buffer size is given by the size of the buffer(s) in the given buffer
> group ID.
>

### Rust For Linux

**[v3: rust: kernel: documentation improvements](http://lore.kernel.org/rust-for-linux/20240131-doc-fixes-v3-v3-0-0c8af94ed7de@valentinobst.de/)**

> This patch set aims to make small improvements to the documentation of
> the kernel crate. It engages in a few different activities:
> - fixing trivial typos (commit #1),
> - updating code examples to better reflect an idiomatic coding style
>   (commits #2,6),
> - increasing the consistency within the crate's documentation as a whole
>   (commits #3,5,7,8,9,11,12),
> - adding more intra-doc links as well as srctree-relative links to C
>   header files (commits #4,10).
>

**[v1: rust: prelude: add bit function](http://lore.kernel.org/rust-for-linux/20240130-rust-bit-v1-1-ed2ed6389a58@christina-quast.de/)**

> In order to create masks easily, the define BIT() is used in C code.
> This commit adds the same functionality to the rust kernel.
>

**[v1: rust: add reexports for macros](http://lore.kernel.org/rust-for-linux/20240129145837.1419880-1-aliceryhl@google.com/)**

> Currently, all macros are reexported with #[macro_export] only, which
> means that to access `new_work!` from the workqueue, you need to import
> it from the path `kernel::new_work` instead of importing it from the
> workqueue module like all other items in the workqueue. By adding
> reexports of the macros, it becomes possible to import the macros from
> the correct modules.
>

**[v6: rust: types: Add `try_from_foreign()` method](http://lore.kernel.org/rust-for-linux/0100018d53f737f8-80c1fe97-0019-40d7-ab69-b1b192785cd7-000000@email.amazonses.com/)**

> Currently `ForeignOwnable::from_foreign()` only works for non-null
> pointers for the existing impls (e.g. Box, Arc). It may create a few
> duplicate code like:
>
> Adding a `try_from_foreign()` method that will return `None` if `ptr`
> is null, otherwsie return `Some(from_foreign(ptr))`.
>

**[v2: rust: str: implement `Display` and `Debug` for `BStr`](http://lore.kernel.org/rust-for-linux/ZbSDkm65LML4OWKX@ohnotp/)**

> Currently, `BStr` is just a type alias of `[u8]`, limiting its
> representation to a byte list rather than a character list, which is not
> ideal for printing and debugging.
>

### BPF

**[v1: bpf-next: libbpf Userspace Runtime-Defined Tracing (URDT)](http://lore.kernel.org/bpf/20240131162003.962665-1-alan.maguire@oracle.com/)**

> Adding userspace tracepoints in other languages like python and
> go is a very useful for observability.  libstapsdt [1]
> and language bindings like python-stapsdt [2] that rely on it
> use a clever scheme of emulating static (USDT) userspace tracepoints
> at runtime.
>

**[v1: bpf-next: bpf: Add generic kfunc bpf_ffs64()](http://lore.kernel.org/bpf/20240131155607.51157-1-hffilwlqm@gmail.com/)**

> This patchset introduces a new generic kfunc bpf_ffs64(). This kfunc
> allows bpf to reuse kernel's __ffs64() function to improve ffs
> performance in bpf.
>

**[v5: bpf-next: bpf: Add bpf_iter_cpumask](http://lore.kernel.org/bpf/20240131145454.86990-1-laoar.shao@gmail.com/)**

> Three new kfuncs, namely bpf_iter_cpumask_{new,next,destroy}, have been
> added for the new bpf_iter_cpumask functionality. These kfuncs enable the
> iteration of percpu data, such as runqueues, system_group_pcpu, and more.
>

**[v1: bpf: Separate bpf_local_storage_lookup() fast and slow paths](http://lore.kernel.org/bpf/20240131141858.1149719-1-elver@google.com/)**

> To allow the compiler to inline the bpf_local_storage_lookup() fast-
> path, factor it out by making bpf_local_storage_lookup() a static inline
> function and move the slow-path to bpf_local_storage_lookup_slowpath().
>

**[[PATCH bpf-next ] selftests/bpf: disable IPv6 for lwt_redirect test](http://lore.kernel.org/bpf/20240131053212.2247527-1-chantr4@gmail.com/)**

> After a recent change in the vmtest runner, this test started failing
> sporadically.
>
> Investigation showed that this test was subject to race condition which
> got exacerbated after the vm runner change. The symptoms being that the
> logic that waited for an ICMPv4 packet is naive and will break if 5 or
> more non-ICMPv4 packets make it to tap0.
> When ICMPv6 is enabled, the kernel will generate traffic such as ICMPv6
> router solicitation...
> On a system with good performance, the expected ICMPv4 packet would very
> likely make it to the network interface promptly, but on a system with
> poor performance, those "guarantees" do not hold true anymore.
>

**[v4: bpf-next: bpftool: add support for split BTF to gen min_core_btf](http://lore.kernel.org/bpf/20240130230510.791-1-git@brycekahle.com/)**

> Enables a user to generate minimized kernel module BTF.
>
> If an eBPF program probes a function within a kernel module or uses
> types that come from a kernel module, split BTF is required. The split
> module BTF contains only the BTF types that are unique to the module.
> It will reference the base/vmlinux BTF types and always starts its type
> IDs at X+1 where X is the largest type ID in the base BTF.
>

**[v1: vhost: virtio: drivers maintain dma info for premapped vq](http://lore.kernel.org/bpf/20240130114224.86536-1-xuanzhuo@linux.alibaba.com/)**

> If the virtio is premapped mode, the driver should manage the dma info by self.
> So the virtio core should not store the dma info.
> So we can release the memory used to store the dma info.
>

**[v1: bpf-next: bpf: move -Wno-compare-distinct-pointer-types to BPF_CFLAGS](http://lore.kernel.org/bpf/20240130113624.24940-1-jose.marchesi@oracle.com/)**

> Clang supports enabling/disabling certain conversion diagnostics via
> the -W[no-]compare-distinct-pointer-types command line options.
> Disabling this warning is required by some BPF selftests due to
> -Werror.  Until very recently GCC would emit these warnings
> unconditionally, which was a problem for gcc-bpf, but we added support
> for the command-line options to GCC upstream [1].
>

**[v1: bpf-next: bpf: build type-punning BPF selftests with -fno-strict-aliasing](http://lore.kernel.org/bpf/20240130110343.11217-1-jose.marchesi@oracle.com/)**

> A few BPF selftests perform type punning and they may break strict
> aliasing rules, which are exploited by both GCC and clang by default
> while optimizing.  This can lead to broken compiled programs.
>

**[v3: bpf-next: Trusted PTR_TO_BTF_ID arg support in global subprogs](http://lore.kernel.org/bpf/20240130000648.2144827-1-andrii@kernel.org/)**

> This patch set follows recent changes that added btf_decl_tag-based argument
> annotation support for global subprogs. This time we add ability to pass
> PTR_TO_BTF_ID (BTF-aware kernel pointers) arguments into global subprograms.
> We support explicitly trusted arguments only, for now.
>

**[v1: 5.10.y: bpf: Convert BPF_DISPATCHER to use static_call() (not ftrace)](http://lore.kernel.org/bpf/20240129183120.284801-1-kovalev@altlinux.org/)**

> [ Upstream commit c86df29d11dfba27c0a1f5039cd6fe387fbf4239 ]
>
> The dispatcher function is currently abusing the ftrace __fentry__
> call location for its own purposes -- this obviously gives trouble
> when the dispatcher and ftrace are both in use.
>
>
> [ Upstream commit c86df29d11dfba27c0a1f5039cd6fe387fbf4239 ]
>
> The dispatcher function is currently abusing the ftrace __fentry__
> call location for its own purposes -- this obviously gives trouble
> when the dispatcher and ftrace are both in use.
>

**[v4: net-next: Enable SGMII and 2500BASEX interface mode switching for Intel platforms](http://lore.kernel.org/bpf/20240129130253.1400707-1-yong.liang.choong@linux.intel.com/)**

> At the start of link initialization, the 'allow_switch_interface' flag is
> set to true. Based on 'allow_switch_interface' flag, the interface mode is
> configured to PHY_INTERFACE_MODE_NA within the 'phylink_validate_phy'
> function. This setting allows all ethtool link modes that are supported and
> advertised will be published. Then interface mode switching occurs based on
> the selection of different link modes.
>

**[v1: bpf-next: bpftool: Support dumping kfunc prototypes from BTF](http://lore.kernel.org/bpf/373d86f4c26c0ebf5046b6627c8988fa75ea7a1d.1706492080.git.dxu@dxuuu.xyz/)**

> This patch enables dumping kfunc prototypes from bpftool. This is useful
> b/c with this patch, end users will no longer have to manually define
> kfunc prototypes.
>

**[v3: dwarves: pahole: Inject kfunc decl tags into BTF](http://lore.kernel.org/bpf/0f25134ec999e368478c4ca993b3b729c2a03383.1706491733.git.dxu@dxuuu.xyz/)**

> This commit teaches pahole to parse symbols in .BTF_ids section in
> vmlinux and discover exported kfuncs. Pahole then takes the list of
> kfuncs and injects a BTF_KIND_DECL_TAG for each kfunc.
>

**[v4: bpf-next: Annotate kfuncs in .BTF_ids section](http://lore.kernel.org/bpf/cover.1706491398.git.dxu@dxuuu.xyz/)**

> This is a bpf-treewide change that annotates all kfuncs as such inside
> .BTF_ids. This annotation eventually allows us to automatically generate
> kfunc prototypes from bpftool.
>

**[v6: net-next: add multi-buff support for xdp running in generic mode](http://lore.kernel.org/bpf/cover.1706451150.git.lorenzo@kernel.org/)**

> Introduce multi-buffer support for xdp running in generic mode not always
> linearizing the skb in netif_receive_generic_xdp routine.
> Introduce page_pool in softnet_data structure
>

**[v1: bpf: generate const static pointers for kernel helpers](http://lore.kernel.org/bpf/20240127185031.29854-1-jose.marchesi@oracle.com/)**

> The generated bpf_helper_defs.h file currently contains definitions
> like this for the kernel helpers, which are static objects:
>
>   static void *(*bpf_map_lookup_elem)(void *map, const void *key) = (void *) 1;
>

**[v3: bpf-next: Improvements for tracking scalars in the BPF verifier](http://lore.kernel.org/bpf/20240127175237.526726-1-maxtram95@gmail.com/)**

> The goal of this series is to extend the verifier's capabilities of
> tracking scalars when they are spilled to stack, especially when the
> spill or fill is narrowing. It also contains a fix by Eduard for
> infinite loop detection and a state pruning optimization by Eduard that
> compensates for a verification complexity regression introduced by
> tracking unbounded scalars. These improvements reduce the surface of
> false rejections that I saw while working on Cilium codebase.
>

**[v1: bpf-next: bpf,token: use BIT_ULL() to convert the bit mask](http://lore.kernel.org/bpf/20240127134901.3698613-1-haiyue.wang@intel.com/)**

> Replace the '(1ULL << *)' with the macro BIT_ULL(nr).
>

**[v1: net-next: net: stmmac: EST conformance support](http://lore.kernel.org/bpf/20240127040443.24835-1-rohan.g.thomas@intel.com/)**

> This patchset enables support for queueMaxSDU and transmission overrun
> counters which are required for Qbv conformance.
>

**[v1: net-next: dma: skip calling no-op sync ops when possible](http://lore.kernel.org/bpf/20240126135456.704351-1-aleksander.lobakin@intel.com/)**

> The series grew from Eric's idea and patch at [0]. The idea of using the
> shortcut for direct DMA as well belongs to Chris.
>

**[v1: bpf-next: selftests/bpf: Add missing line break in test_verifier](http://lore.kernel.org/bpf/20240126015736.655-1-yangtiezhu@loongson.cn/)**

> There are no break lines in the test log for test_verifier #106
>  #111
> if jit is disabled, add the missing line break at the end of printf()
> to fix it.
>

**[v3: libbpf: Add some details for BTF parsing failures](http://lore.kernel.org/bpf/20240125231840.1647951-1-irogers@google.com/)**

> As CONFIG_DEBUG_INFO_BTF is default off the existing "failed to find
> valid kernel BTF" message makes diagnosing the kernel build issue some
> what cryptic. Add a little more detail with the hope of helping users.
>

## 周边技术动态

### Qemu

**[v3: target/riscv: mcountinhibit, mcounteren, scounteren, hcounteren is 32-bit](http://lore.kernel.org/qemu-devel/20240131123624.230982-1-vadim.shakirov@syntacore.com/)**

> mcountinhibit, mcounteren, scounteren and hcounteren must always be 32-bit
> by privileged spec
>

**[v1: target/riscv: Support mxstatus CSR for thead-c906](http://lore.kernel.org/qemu-devel/20240130111159.532-1-zhiwei_liu@linux.alibaba.com/)**

> We first add a framework for vendor CSRs in patch 1. After that we add
> one thead-c906 CSR mxstatus, which is used for mmu extension xtheadmaee.
>

**[v1: target/riscv: FCSR doesn't contain vxrm and vxsat](http://lore.kernel.org/qemu-devel/20240130110945.486-1-zhiwei_liu@linux.alibaba.com/)**

> vxrm and vxsat have been moved into a special register vcsr since
> RVV v1.0. So remove them from FCSR for vector 1.0.
>

**[v1: target/riscv: Use RISCVException as return type for all csr ops](http://lore.kernel.org/qemu-devel/20240130110844.437-1-zhiwei_liu@linux.alibaba.com/)**

> The real return value type has been converted to RISCVException,
> but some function declarations still not. This patch makes all
> csr operation declarations use RISCVExcetion.
>

**[v1: hw/riscv/virt-acpi-build.c: Add SRAT and SLIT ACPI tables](http://lore.kernel.org/qemu-devel/20240129094200.3581037-1-haibo1.xu@intel.com/)**

> Enable ACPI NUMA support by adding the following 2 ACPI tables:
> SRAT: provides the association for memory/Harts and Proximity Domains
> SLIT: provides the relative distance between Proximity Domains
>

**[v2: target/riscv: mcountinhibit, mcounteren and scounteren always 32-bit](http://lore.kernel.org/qemu-devel/20240129084728.48311-1-vadim.shakirov@syntacore.com/)**

> mcountinhibit, mcounteren and scounteren must always be 32-bit by
> privileged spec
>

**[[RESEND v2 0/2] RISC-V: ACPI: Enable SPCR](http://lore.kernel.org/qemu-devel/20240129021440.17640-1-jeeheng.sia@starfivetech.com/)**

> This series focuses on enabling the Serial Port Console Redirection (SPCR)
> table for the RISC-V virt platform. Considering that ARM utilizes the same
> function, the initial patch involves migrating the build_spcr function to
> common code. This consolidation ensures that RISC-V avoids duplicating the
> function.
>

**[v2: riscv: named features riscv,isa, 'svade' rework](http://lore.kernel.org/qemu-devel/20240126133101.61344-8-ajones@ventanamicro.com/)**

> This is a bundle of fixes based on discoveries that were made in the
> last week or so:
>
> - what we call "named features" are actually real extensions, which are
>   considered to be ratified by the profile spec that defines them. This
>   means that we need to add riscv,isa strings for them. More info can be
>   found on the commit msg of patch 2;
>

### U-Boot

**[Pull request efi-2024-04-rc1-4](http://lore.kernel.org/u-boot/4c82ae6a-c70b-4997-b023-8261ef6a1604@canonical.com/)**

> The following changes since commit 526a865fe4fea59fb2638726c26e39557eb97fdd:
>
>    Merge branch 'master-cleanup' of
> https://source.denx.de/u-boot/custodians/u-boot-sh (2024-01-27 20:43:20
> -0500)
>

**[v2: Add device tree nodes needed by OpenSBI on Visionfive 2](http://lore.kernel.org/u-boot/cover.1706517351.git.namcao@linutronix.de/)**

> This series adds 2 device tree nodes. These are needed by OpenSBI to perform
> reset/shutdown of the board.
>

**[v4: riscv: sophgo: milkv_duo: add support for Milk-V Duo board](http://lore.kernel.org/u-boot/20240128070614.7702-1-seashell11234455@gmail.com/)**

> The Milk-V Duo board is built upon Sophgo's CV1800B SoC, featuring two
> XuanTie C906 CPUs running at 1.0GHz and 700MHz, respectively.
>

**[riscv defconfig starfive visionfive2 env is nowhere, missing axp15060 regulator, misc vendor hacks for Milk-V Mars CM Lite](http://lore.kernel.org/u-boot/CANV2PTO9aVPxkvWp_PY+NwB+bzzNtJ211NxQLHxi_uz_1Gce4w@mail.gmail.com/)**

> ENV_IS_NOWHERE=y when it should not be, on make
> starfive_visionfive2_defconfig. I guess that riscv is forgotten in some of
> the logic there. TL;DR the env is supposed to save in SPI flash as the
> defconfig provides (but then also ENV_IS_NOWHERE=y appears ?  strange).
>

**[v2: riscv: Support building with Clang](http://lore.kernel.org/u-boot/20240125140659.28229-1-filmroellchen@serenityos.org/)**

> Hello everyone!
>
> This is a minimal patchset for making U-Boot build with Clang on RISC-V,
> something I stumbled upon while writing U-Boot build scripts for
> SerenityOS's RISC-V port. The only change is a (for unclear reasons...)
>

**[v2: riscv: separate .data and .text sections of EFI binaries](http://lore.kernel.org/u-boot/20240125083815.12623-1-heinrich.schuchardt@canonical.com/)**

> EFI binaries should not contain sections that are both writable and
> executable. Separate the RX .text section from the RW .data section
>

